

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>engine module &mdash; PolyGEN 2021 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="polygen" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PolyGEN
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">polygen</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">engine module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PolyGEN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">polygen</a> &raquo;</li>
        
      <li>engine module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/engine.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-engine">
<span id="engine-module"></span><h1>engine module<a class="headerlink" href="#module-engine" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="engine.Diff">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">Diff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">li1</span></em>, <em class="sig-param"><span class="n">li2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all elements of two lists, which are unique to one of the two</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>li1</strong> (<em>list</em>) – First list</p></li>
<li><p><strong>li2</strong> (<em>list</em>) – Second list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Differential list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt id="engine.InvalidUsage">
<em class="property">exception </em><code class="sig-prename descclassname">engine.</code><code class="sig-name descname">InvalidUsage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">status_code</span><span class="o">=</span><span class="default_value">400</span></em>, <em class="sig-param"><span class="n">payload</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.InvalidUsage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Handler for user-interpretable errors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>str</em>) – A user-interpretable error message</p></li>
<li><p><strong>status_code</strong> (<em>int</em><em>, </em><em>optional</em>) – The status code of the server, defaults to 400</p></li>
<li><p><strong>payload</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional information on the error location, defaults to None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="engine.InvalidUsage.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#engine.InvalidUsage.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns error object into dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary containing the error message under key ‘message’ and the payload under the respective keys</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="engine.PTGbldr">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">PTGbldr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inserts</span></em>, <em class="sig-param"><span class="n">poltype_bldr</span><span class="o">=</span><span class="default_value">'ptg'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.PTGbldr" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes all desired parts of PTG GG assembly and gives out the respective inserts for PTG. During the 
process, each part is appended with the same tRNA. The unit of part and tRNA are then treated as one insert.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inserts</strong> (<em>list</em>) – List of parts of the form [[‘name’, ‘type’, ‘sequence’],[…]]</p></li>
<li><p><strong>poltype_bldr</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of polycistronic architecture to use. Must be one of ‘ptg’ or ‘cpf1’, defaults to ‘ptg’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="engine.Part">
<em class="property">class </em><code class="sig-prename descclassname">engine.</code><code class="sig-name descname">Part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Part" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object used for defining sequence characteristics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Sequence name</p></li>
<li><p><strong>type</strong> (<em>type</em>) – Sequence type</p></li>
<li><p><strong>sequence</strong> (<em>str</em>) – A nucleotide sequence consisting of [ACGTacgt]</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="engine.Part.bridge_with_next_part">
<code class="sig-name descname">bridge_with_next_part</code><em class="property"> = ''</em><a class="headerlink" href="#engine.Part.bridge_with_next_part" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="engine.Part.bridge_with_previous_part">
<code class="sig-name descname">bridge_with_previous_part</code><em class="property"> = ''</em><a class="headerlink" href="#engine.Part.bridge_with_previous_part" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="engine.Part.primer_forward">
<code class="sig-name descname">primer_forward</code><em class="property"> = ''</em><a class="headerlink" href="#engine.Part.primer_forward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="engine.Part.primer_forward_tm">
<code class="sig-name descname">primer_forward_tm</code><em class="property"> = 0</em><a class="headerlink" href="#engine.Part.primer_forward_tm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="engine.Part.primer_reverse">
<code class="sig-name descname">primer_reverse</code><em class="property"> = ''</em><a class="headerlink" href="#engine.Part.primer_reverse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="engine.Part.primer_reverse_tm">
<code class="sig-name descname">primer_reverse_tm</code><em class="property"> = 0</em><a class="headerlink" href="#engine.Part.primer_reverse_tm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="engine.complement">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">complement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the complement of a provided sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<em>str</em>) – A nucleic acid sequence consisting of [ACGTacgt]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The complement of the provided sequence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.flattn">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">flattn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_2d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.flattn" title="Permalink to this definition">¶</a></dt>
<dd><p>Flattens a 2D list of lists into one 1D list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list_2d</strong> (<em>list</em>) – 2D list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1D list with all sublists of the input concatenated</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.golden_gate_optimization">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">golden_gate_optimization</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parts_list</span></em>, <em class="sig-param"><span class="n">free_overhangsets</span></em>, <em class="sig-param"><span class="n">poltype_opt</span><span class="o">=</span><span class="default_value">'ptg'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.golden_gate_optimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds linkers from optimal linker sets in a provided parts list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parts_list</strong> (<em>list</em>) – An array of objects of class part</p></li>
<li><p><strong>free_overhangsets</strong> (<em>list</em>) – An array of arrays containing 4 bp linkers</p></li>
<li><p><strong>poltype_opt</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of polycistronic architecture to use. Must be one of ‘ptg’ or ‘cpf1’, defaults to ‘ptg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of sequences indicating the linker between two adjacent parts. The sequence spans from the start of the respective variable sequence to the end of the determined 4 bp linker.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.pegbldr">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">pegbldr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em>, <em class="sig-param"><span class="n">edits</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'PE2'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.pegbldr" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the necesary pegRNA and gRNA to accurately introduce a point mutation using the prime editor system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> (<em>str</em>) – The original 5’ -&gt; 3’ nucleic acid sequence consisting of [ACGTacgt] that is to be edited</p></li>
<li><p><strong>edits</strong> (<em>list</em>) – An array containing all desired edits in the form [[index of edit, new bases, type of edit],[…]]</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of prime editing mode to design for. One of ‘PE2’ or ‘PE3’, defaults to ‘PE3’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of lists containing for each computed guide RNA the name, type, sequence and strand specifications</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.reverse">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">reverse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the reverse of a provided sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<em>str</em>) – A nucleic acid sequence consisting of [ACGTacgt]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The reverse of the provided sequence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.reverse_complement">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">reverse_complement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.reverse_complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the reverse complement of a provided sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<em>str</em>) – The nucleic acid sequence consisting of [ACGTacgt]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The reverse complement of the provided sequence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.runall">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">runall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em>, <em class="sig-param"><span class="n">tm_range</span><span class="o">=</span><span class="default_value">[52, 72]</span></em>, <em class="sig-param"><span class="n">max_ann_len</span><span class="o">=</span><span class="default_value">30</span></em>, <em class="sig-param"><span class="n">bb_overlaps</span><span class="o">=</span><span class="default_value">['tgcc', 'gttt']</span></em>, <em class="sig-param"><span class="n">additional_overhangs</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">poltype_run</span><span class="o">=</span><span class="default_value">'ptg'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.runall" title="Permalink to this definition">¶</a></dt>
<dd><p>The main gateway function of PolyGEN. Navigates through the necessary functions for PTG design</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>list</em>) – An array of the form [[‘name’, ‘type’, ‘sequence’],[…]]</p></li>
<li><p><strong>tm_range</strong> (<em>list</em><em>, </em><em>optional</em>) – An array of integers of length 2. Temperature range to aim for during primer optimization, defaults to [52,73]</p></li>
<li><p><strong>max_ann_len</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximal annealing length of the static part of the primer, defaults to 30</p></li>
<li><p><strong>bb_overlaps</strong> (<em>list</em><em>, </em><em>optional</em>) – Linkers of the destination plasmid flanking the final PTG, defaults to [‘tgcc’,’gttt’]</p></li>
<li><p><strong>additional_overhangs</strong> (<em>list</em><em>, </em><em>optional</em>) – Additional linkers in the destination plasmid, defaults to []</p></li>
<li><p><strong>poltype_run</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of polycistronic architecture to use. Must be one of ‘ptg’ or ‘cpf1’, defaults to ‘ptg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns five objects (1) A list of newly computed parts of class Part, (2) The full sequence of the PTG containing the BsaI recognition site and linker at the 5’ and 3’ ends, (3) A list of features of class SeqRecord, (4) An error or warning message, (5) The full list of oligos for part generation via PCR</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list, str, list, str, list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="engine.scarless_gg">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">scarless_gg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parts_list</span></em>, <em class="sig-param"><span class="n">primer_tm_range</span><span class="o">=</span><span class="default_value">[52, 72]</span></em>, <em class="sig-param"><span class="n">max_annealing_len</span><span class="o">=</span><span class="default_value">30</span></em>, <em class="sig-param"><span class="n">bb_overlaps</span><span class="o">=</span><span class="default_value">['tgcc', 'gttt']</span></em>, <em class="sig-param"><span class="n">additional_overhangs</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">poltype_gg</span><span class="o">=</span><span class="default_value">'ptg'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.scarless_gg" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses a list of desired parts and additional arguments to compute a corresponsing PTG. Returns a list of newly computed parts and their primers which can be used to generate the PTG.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parts_list</strong> (<em>list</em>) – An array of objects of class part, desired to included in a PTG</p></li>
<li><p><strong>primer_tm_range</strong> (<em>list</em><em>, </em><em>optional</em>) – An array of integers of length 2. Temperature range to aim for during primer optimization, defaults to [52,73]</p></li>
<li><p><strong>max_annealing_len</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximal annealing length of the static part of the primer, defaults to 30</p></li>
<li><p><strong>bb_overlaps</strong> (<em>list</em><em>, </em><em>optional</em>) – Linkers of the destination plasmid flanking the final PTG, defaults to [‘tgcc’,’gttt’]</p></li>
<li><p><strong>additional_overhangs</strong> (<em>list</em><em>, </em><em>optional</em>) – Additional linkers in the destination plasmid, defaults to []</p></li>
<li><p><strong>poltype_gg</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of polycistronic architecture to use. Must be one of ‘ptg’ or ‘cpf1’, defaults to ‘ptg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns three objects. (1) A list of newly computed parts of class Part, (2) A list of features of class SeqRecord, (3) An error or warning message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list, list, str</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modules.html" class="btn btn-neutral float-left" title="polygen" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Christoph Wagner, Uriel Urquiza, Matias Zurbriggen.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>